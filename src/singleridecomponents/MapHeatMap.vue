<!-- <template>
  <div id="map" style="height: 400px;"></div>
</template>

<script>
import L from "leaflet";

import "leaflet/dist/leaflet.css";

export default {
  name: "HeatMap",
  data() {
    return {
      map: null,
      heatmapLayer: null,
      heatmapData: [
        { lat: 51.5, lng: -0.1, value: 100 },
        { lat: 51.51, lng: -0.1, value: 50 },
        { lat: 51.49, lng: -0.05, value: 10 },
      ],
    };
  },
  mounted() {
    this.initializeMap();
  },
  methods: {
    initializeMap() {
      const map = L.map("map").setView([51.505, -0.09], 13);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution:
          'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
        maxZoom: 19,
      }).addTo(map);

      this.map = map;

      this.heatmapLayer = L.tileLayer.maskCanvas({
        radius: 30,
        useAbsoluteRadius: true,
        color: "red",
        opacity: 0.8,
        noMask: true,
        lineColor: "red",
      });

      this.heatmapLayer.setData(this.heatmapData);

      map.addLayer(this.heatmapLayer);
    },
  },
};
</script>

<style>
#map {
  width: 100%;
}
</style> -->




<template>
  <div class="map-container">
    <div ref="map" class="map"></div>
  </div>
</template>

<script>
import L from 'leaflet';
import 'leaflet/dist/leaflet.css';
import 'leaflet.heat/dist/leaflet-heat.js';

export default {
  name: 'HeatMap',
  data() {
    return {
      map: null,
      heatLayer: null,
      heatmapData: [
      [11.1271, 78.6569, 0.1],
  [11.0062, 76.9668, 0.1],
  [10.7905, 78.7047, 0.1],
  [11.0168, 77.2312, 0.1],
  [10.0279, 78.2812, 0.1],
  [11.0092, 76.9668, 0.1],
  [10.7662, 78.8132, 0.1],
  [10.8387, 77.8537, 0.1],
  [11.6423, 78.3865, 0.1],
  [11.2190, 78.1679, 0.1],
  [10.9675, 78.0554, 0.1],
  [10.8343, 77.6808, 0.1],
  [11.0954, 76.5095, 0.1],
  [9.9399, 78.1160, 0.1],
  [11.1067, 78.1667, 0.1],
  [9.9154, 78.1217, 0.1],
  [11.2195, 78.1605, 0.1],
  [10.2398, 77.4892, 0.1],
  [11.1967, 78.0149, 0.1],
  [10.7726, 78.8214, 0.1],
  [10.6718, 77.0316, 0.1],
  [11.0982, 77.3279, 0.1],
  [11.2980, 76.8941, 0.1],
  [10.7480, 78.0803, 0.1],
  [10.9702, 78.1870, 0.1],
  [9.9399, 78.1160, 0.1],
  [11.0055, 77.2674, 0.1],
  [11.0028, 76.9667, 0.1],
  [11.0018, 77.3464, 0.1],
  [11.2190, 78.1679, 0.1],
  [10.7677, 78.8162, 0.1],
  [11.4974, 77.2383, 0.1],
  [11.0259, 76.9668, 0.1],
  [10.8027, 77.9848, 0.1],
  [9.9154, 78.1217, 0.1],
  [10.9570, 78.0804, 0.1],
  [10.7915, 78.6992, 0.1],
  [11.2067, 77.4580, 0.1],
  [11.1675, 78.1297, 0.1],
  [10.9675, 78.0554, 0.1],
  [13.067439, 80.237617, 0.1],
  [13.082680, 80.270721, 0.1],
  [13.060193, 80.231380, 0.1],
  [11.016845, 76.955832, 0.1],
  [11.007438, 77.068413, 0.1],
  [10.990739, 76.965825, 0.1],
  [10.944221, 79.391378, 0.1],
  [11.016453, 79.712982, 0.1],
  [10.979924, 78.950477, 0.1],
  [11.041475, 78.395470, 0.1],
  [11.416894, 76.693259, 0.1],
  [11.542536, 77.458975, 0.1],
  [11.322005, 77.883684, 0.1],
  [10.761586, 79.843353, 0.1],
  [10.782148, 78.704672, 0.1],
  [10.680685, 79.332521, 0.1],
  [10.278085, 77.968822, 0.1],
  [10.784038, 78.129676, 0.1],
  [11.717642, 79.471905, 0.1],
  [11.477631, 77.671610, 0.1],
  [10.965827, 77.546327, 0.1],
  [11.724559, 78.476700, 0.1],
  [12.743592, 79.132363, 0.1],
  [12.966854, 77.587278, 0.1],
  [12.954661, 80.139251, 0.1],
  [13.016907, 80.268883, 0.1],
  [12.850564, 80.154144, 0.1],
  [13.087616, 80.278199, 0.1],
  [13.113202, 80.196812, 0.1],
  [13.131019, 80.147029, 0.1],
  [11.089494, 77.305267, 0.1],
  [10.931825, 79.285973, 0.1],
  [11.101123, 77.341751, 0.1],
  [11.235051, 78.864441, 0.1],
  [11.072082, 77.027840, 0.1],
  [10.952750, 78.191208, 0.1],
  [10.687595, 77.138058, 0.1],
  [11.500257, 78.143600, 0.1],
  [11.038316, 76.967951, 0.1],
  [11.466881, 78.462891, 0.1],
  [11.019011, 76.919974, 0.1],
  [11.336856, 77.717163, 0.1],
  [11.680444, 79.163876, 0.1],
  [10.911536, 77.064119, 0.1],
  [12.522526, 78.651189, 0.1],
  [10.949484, 79.019371, 0.1],
  [10.161295, 77.988944, 0.1],
  [10.583253, 78.439963, 0.1],
  [10.949426, 78.928388, 0.1],
  [10.062602, 78.349869, 0.1],
  [11.581275, 78.207695, 0.1],
  [11.326385, 77.891201, 0.1],
  [11.350894, 78.101404, 0.1],
  [11.071599, 76.910431, 0.1],
  [11.289435, 77.731676, 0.1],
  [11.453968, 78.008894, 0.1],
  [9.933295, 78.106385, 0.1],
  [11.09998, 76.999893, 0.1],
  [10.19193, 78.845413, 0.1],
  [9.831031, 77.408544, 0.1],
  [10.819146, 78.167226, 0.1],
  [10.93085, 78.132663, 0.1],
  [10.207752, 79.451317, 0.1],
  [10.324527, 78.85193, 0.1],
  [10.014507, 78.165574, 0.1],
  [10.360001, 78.07626, 0.1],
  [10.271837, 77.917146, 0.1],
  [10.805692, 77.433532, 0.1],
  [10.540014, 78.347354, 0.1],
  [11.006156, 77.999616, 0.1],
  [10.677767, 77.717192, 0.1],
  [10.765427, 78.41833, 0.1],
  [11.247614, 76.897472, 0.1],
  [11.419276, 77.545776, 0.1],
  [11.266008, 76.945966, 0.1],
  [9.714711, 77.795581, 0.1],
  [11.680771, 78.014632, 0.1],
  [11.124437, 77.775179, 0.1],
  [10.338219, 78.830752, 0.1],
  [11.467817, 78.06657, 0.1],

  ],
      maxZoom: 18,
      gradient: {
        0.4: '#0077be',
        0.6: '#00b3f0',
        0.7: '#00ff00',
        0.8: '#ffff00',
        1.0: '#ff0000'
      },
      opacity: 0.6,
      blur: 15
    }
  },
  mounted() {

    this.map = L.map(this.$refs.map, {
      center: [17.3850, 78.4867], 
      zoom: 5,
      maxZoom: this.maxZoom
    });

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
      maxZoom: this.maxZoom
    }).addTo(this.map);

    this.heatLayer = L.heatLayer(this.heatmapData, {
      minOpacity: this.opacity,
      maxZoom: this.maxZoom,
      gradient: this.gradient,
      blur: this.blur
    }).addTo(this.map);
  }
}
</script>

<style scoped>
.map-container {
  width: 1300px;
  height: 500px;
  margin: 0 auto;
}

.map {
  height: 100%;
}
</style>





